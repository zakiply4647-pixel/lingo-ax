<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Lingo-AX Professional</title>

<style>

body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#4facfe,#00f2fe);
color:white;
text-align:center;
}

.box{
background:rgba(0,0,0,0.3);
margin:20px auto;
padding:20px;
border-radius:15px;
max-width:500px;
}

input,select,button{

padding:12px;
margin:6px;
border:none;
border-radius:8px;
font-size:16px;

}

button{
background:#00ff88;
cursor:pointer;
}

button:hover{
background:#00cc66;
}

.option{
display:block;
margin:5px auto;
width:80%;
}

.correct{
background:green!important;
}

.wrong{
background:red!important;
}

</style>

</head>
<body>

<h1>Lingo-AX</h1>

XP: <span id="xp">0</span>
&nbsp;&nbsp;
Level: <span id="level">1</span>

<!-- TRANSLATOR -->

<div class="box">

<h2>Translator</h2>

<input id="text" placeholder="Enter text">

<select id="target">
<option value="ar">Arabic</option>
<option value="en">English</option>
<option value="fr">French</option>
<option value="es">Spanish</option>
</select>

<br>

<button onclick="translate()">Translate</button>
<button onclick="speak()">Speak</button>

<p id="result"></p>

</div>

<!-- EXERCISE -->

<div class="box">

<h2>Exercise</h2>

<p id="question">Press Start</p>

<button onclick="speakQuestion()">Speak Question</button>

<div id="options"></div>

<button onclick="nextQuestion()">Start</button>

</div>

<!-- GRAMMAR -->

<div class="box">

<h2>Grammar</h2>

<p id="grammar">Press button</p>

<button onclick="nextGrammar()">Next</button>

</div>

<script>

/* XP SYSTEM */

let xp=parseInt(localStorage.getItem("xp")||0);
let level=parseInt(localStorage.getItem("level")||1);

updateXP();

function updateXP(){

document.getElementById("xp").innerText=xp;
document.getElementById("level").innerText=level;

}

function addXP(){

xp+=10;

if(xp>=level*100){

xp=0;
level++;

}

localStorage.setItem("xp",xp);
localStorage.setItem("level",level);

updateXP();

}

/* TRANSLATE REAL */

async function translate(){

let text=document.getElementById("text").value;
let target=document.getElementById("target").value;

if(!text){

document.getElementById("result").innerText="Enter text";
return;

}

try{

let res=await fetch("https://libretranslate.de/translate",{

method:"POST",

headers:{
"Content-Type":"application/json"
},

body:JSON.stringify({

q:text,
source:"auto",
target:target,
format:"text"

})

});

let data=await res.json();

document.getElementById("result").innerText=data.translatedText;

}catch{

document.getElementById("result").innerText="Translation failed";

}

}

/* SPEECH */

function speak(){

let text=document.getElementById("text").value;

let msg=new SpeechSynthesisUtterance(text);

speechSynthesis.cancel();
speechSynthesis.speak(msg);

}

function speakQuestion(){

let text=document.getElementById("question").innerText;

let msg=new SpeechSynthesisUtterance(text);

speechSynthesis.cancel();
speechSynthesis.speak(msg);

}

/* WORD LIST */

let words=[

["car","سيارة"],
["apple","تفاحة"],
["dog","كلب"],
["cat","قطة"],
["book","كتاب"],
["house","منزل"],
["water","ماء"],
["food","طعام"],
["school","مدرسة"],
["teacher","معلم"],

["sun","شمس"],
["moon","قمر"],
["tree","شجرة"],
["road","طريق"],
["phone","هاتف"],
["computer","حاسوب"],
["city","مدينة"],
["friend","صديق"],
["family","عائلة"],
["man","رجل"],

["woman","امرأة"],
["child","طفل"],
["love","حب"],
["day","يوم"],
["night","ليل"],
["time","وقت"],
["year","سنة"],
["work","عمل"],
["money","مال"],
["music","موسيقى"],

["movie","فيلم"],
["game","لعبة"],
["ball","كرة"],
["door","باب"],
["window","نافذة"],
["chair","كرسي"],
["table","طاولة"],
["bed","سرير"],
["room","غرفة"],
["air","هواء"],

["fire","نار"],
["earth","أرض"],
["sea","بحر"],
["river","نهر"],
["mountain","جبل"],
["sky","سماء"],
["rain","مطر"],
["snow","ثلج"],
["wind","ريح"],
["red","أحمر"]

];

let used=[];
let correct;

/* EXERCISE SYSTEM */

function nextQuestion(){

if(used.length==words.length)
used=[];

let index;

do{

index=Math.floor(Math.random()*words.length);

}while(used.includes(index));

used.push(index);

correct=words[index];

document.getElementById("question").innerText=correct[0];

let options=[correct[1]];

while(options.length<4){

let r=words[Math.floor(Math.random()*words.length)][1];

if(!options.includes(r))
options.push(r);

}

options.sort(()=>Math.random()-0.5);

let html="";

options.forEach(o=>{

html+=`<button class="option" onclick="answer(this)">${o}</button>`;

});

document.getElementById("options").innerHTML=html;

}

function answer(btn){

if(btn.innerText==correct[1]){

btn.classList.add("correct");
addXP();

}else{

btn.classList.add("wrong");

}

}

/* GRAMMAR */

let grammar=[

"Present simple: I eat",
"Past simple: I ate",
"Future simple: I will eat",
"I am / He is / They are",
"Do / Does",
"Did",
"Verb + ing",
"I have eaten",
"I had eaten",
"I will have eaten"

];

let g=0;

function nextGrammar(){

document.getElementById("grammar").innerText=grammar[g];

g++;

if(g>=grammar.length)
g=0;

}

</script>

</body>
</html>
